import java:wyvern.tools.tests.ReflectionTests.tools

type IntObj
	val contents : Int

def makeInt(x:Int) : IntObj = new
    val contents = x

val x : system.Boolean = true
tools.assertIntEquals(x.ifTrue(() => 1, () => 2), 1)

val x : system.Boolean = false
val resObj : IntObj = x.ifTrue(() => makeInt(1), () => makeInt(2))
tools.assertIntEquals(resObj.contents, 2)

val z : system.Int = false.ifTrue(() => 1, () => 2)
tools.assertIntEquals(3, tools.add(z, 1))
